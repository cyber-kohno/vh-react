(this["webpackJsonpvh-react-ts"]=this["webpackJsonpvh-react-ts"]||[]).push([[0],Array(26).concat([function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,s,c=a(4),i=a.n(c),l=a(17),r=a.n(l),o=(a(26),a(27),a(28),a(5)),d=(a(29),a(30),a(0)),u=function(e){var t=[];return t.push("tab-menu"),t.push(e.isActive?"active":""),t.push(e.isDisable?"tab-disable":""),Object(d.jsx)("div",{className:t.join(" "),onClick:function(){return e.selectTab()},children:Object(d.jsx)("span",{children:e.name})})},b=function(e){return e.isActive?Object(d.jsx)("div",{className:"tab-cont",children:e.cont}):Object(d.jsx)(d.Fragment,{})},j=function(e){var t=Object(c.useState)(e.activeNo),a=Object(o.a)(t,2),n=a[0],s=a[1];Object(c.useEffect)((function(){s(e.activeNo)}),[e.activeNo]);var i=[],l=[];return e.tabElements.forEach((function(t,a){i.push(Object(d.jsx)(u,{name:t.name,isActive:a==n,isDisable:t.disable,selectTab:function(){return function(t){void 0!==e.selectTabIndex?e.selectTabIndex(t):s(t)}(a)}},a)),l.push(Object(d.jsx)(b,{cont:t.cont,isActive:a==n},a))})),Object(d.jsxs)("div",{id:e.groupName,children:[Object(d.jsx)("div",{className:"tab-list",children:i}),Object(d.jsx)("div",{className:"cont-list",children:l})]})},O=(a(32),a(2)),E=(a(33),["\u2160","b\u2161","\u2161","b\u2162","\u2162","\u2163","b\u2164","\u2164","b\u2165","\u2165","b\u2166","\u2166"]),h=["\u2160","#\u2160","\u2161","#\u2161","\u2162","\u2163","#\u2163","\u2164","#\u2164","\u2165","#\u2165","\u2166"],f=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],x=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],T=["C","C#/Db","D","D#","E","F","F#","G","G#","A","A#","B"],m=["C","C#","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],N=["major","minor"],p=["4/4","2/4","3/4","6/8","12/8"];!function(e){e.BEAT_4ON4="4/4",e.BEAT_2ON4="2/4",e.BEAT_3ON4="3/4",e.BEAT_6ON8="6/8",e.BEAT_12ON8="12/8"}(n||(n={})),function(e){e.C_DUR="0",e.DES_DUR="1"}(s||(s={}));var v,S=["\u2160","\u2160maj7","\u2161m","\u2161m7","\u2162m","\u2162m7","\u2163","\u2163maj7","\u2164","\u21647","\u2165m","\u2165m7","\u2166m(-5)","\u2166m7(-5)"];!function(e){e[e.MAJOR=0]="MAJOR",e[e.MINOR=1]="MINOR",e[e.SUS4=2]="SUS4",e[e.DIM=3]="DIM",e[e.AUG=4]="AUG",e[e.MAJ7=5]="MAJ7",e[e.SEVENTH=6]="SEVENTH",e[e.MIN7=7]="MIN7",e[e.MINOR_MAJ7=8]="MINOR_MAJ7",e[e.ADD9=9]="ADD9",e[e.MINOR_ADD9=10]="MINOR_ADD9",e[e.SIXTH_9TH=11]="SIXTH_9TH",e[e.MINOR_MINUS5=12]="MINOR_MINUS5"}(v||(v={}));var L,A=[{key:v.MAJOR,sortNo:1,parentNo:0,depth:1,name:"",struct:["p1","M3","p5"],fixed:["p1"],intervals:[0,4,7]},{key:v.MINOR,sortNo:2,parentNo:0,depth:1,name:"m",struct:["p1","m3","p5"],fixed:["p1"],intervals:[0,3,7]},{key:v.SUS4,sortNo:3,parentNo:0,depth:1,name:"sus4",struct:["p1","p4","p5"],fixed:["p1"],intervals:[0,5,7]},{key:v.DIM,sortNo:4,parentNo:0,depth:1,name:"dim",struct:["p1","m3","d5"],fixed:["p1"],intervals:[0,3,6]},{key:v.AUG,sortNo:5,parentNo:0,depth:1,name:"aug",struct:["p1","M3","a5"],fixed:["p1"],intervals:[0,4,8]},{key:v.MAJ7,sortNo:6,parentNo:0,depth:1,name:"maj7",struct:["p1","M3","p5","M7"],fixed:["p1"],intervals:[0,4,7,11]},{key:v.SEVENTH,sortNo:7,parentNo:0,depth:1,name:"7",struct:["p1","M3","p5","m7"],fixed:["p1"],intervals:[0,4,7,10]},{key:v.MIN7,sortNo:8,parentNo:0,depth:1,name:"m7",struct:["p1","m3","p5","m7"],fixed:["p1"],intervals:[0,3,7,10]},{key:v.MINOR_MAJ7,sortNo:9,parentNo:0,depth:1,name:"mmaj7",struct:["p1","m3","p5","M7"],fixed:["p1"],intervals:[0,3,7,11]},{key:v.ADD9,sortNo:10,parentNo:0,depth:1,name:"add9",struct:["p1","M2","M3","p5"],fixed:["p1"],intervals:[0,2,4,7]},{key:v.MINOR_ADD9,sortNo:11,parentNo:0,depth:1,name:"madd9",struct:["p1","M2","m3","p5"],fixed:["p1"],intervals:[0,2,3,7]},{key:v.SIXTH_9TH,sortNo:12,parentNo:0,depth:1,name:"6(9)",struct:["p1","M2","M3","p5","M6"],fixed:["p1"],intervals:[0,2,4,7,9]},{key:v.MINOR_MINUS5,sortNo:13,parentNo:0,depth:1,name:"m(-5)",struct:["p1","m3","d5"],fixed:["p1"],intervals:[0,3,6]}];!function(e){e[e.TRIAD=0]="TRIAD",e[e.TETRAD7TH=1]="TETRAD7TH",e[e.TETRAD9TH=2]="TETRAD9TH"}(L||(L={}));L.TRIAD,v.MAJOR,v.MINOR,v.SUS4,v.DIM,v.AUG,v.MINOR_MINUS5,L.TETRAD7TH,v.MAJ7,v.SEVENTH,v.MINOR_MAJ7,L.TETRAD9TH,v.ADD9,v.MINOR_ADD9;var I,C,g,y,_,k,D,R,P=[{degreeIndex:0,symbolKey:v.MAJOR},{degreeIndex:2,symbolKey:v.MINOR},{degreeIndex:4,symbolKey:v.MINOR},{degreeIndex:5,symbolKey:v.MAJOR},{degreeIndex:7,symbolKey:v.MAJOR},{degreeIndex:9,symbolKey:v.MINOR},{degreeIndex:11,symbolKey:v.MINOR_MINUS5}],F=a(21);!function(e){e[e.NONE=0]="NONE",e[e.CONTEXT_MENU=1]="CONTEXT_MENU",e[e.CHORD_PALETTE=2]="CHORD_PALETTE",e[e.SECTION_PALETTE=3]="SECTION_PALETTE",e[e.INIT_PALETTE=4]="INIT_PALETTE",e[e.BACKING_PALETTE=5]="BACKING_PALETTE",e[e.SETTING_EDITOR=6]="SETTING_EDITOR"}(I||(I={})),function(e){e[e.Root=0]="Root",e[e.Symbol=1]="Symbol",e[e.Sustain=2]="Sustain",e[e.Adjuster=3]="Adjuster"}(C||(C={})),function(e){e.LEFT="LEFT",e.RIGHT="RIGHT"}(g||(g={})),function(e){e.LEN16="LEN16",e.LEN8="LEN8",e.LEN4="LEN4",e.LEN2="LEN2",e.LEN1="LEN1"}(y||(y={})),function(e){e.SCALE="SCALE",e.DIRECT="DIRECT"}(_||(_={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.BACKING=1]="BACKING",e[e.PREVIEW=2]="PREVIEW"}(k||(k={})),function(e){e.DOMINANT="DOMINANT",e.ABSOLUTE="ABSOLUTE",e.PARALLEL="PARALLEL",e.RELATIVE="RELATIVE"}(D||(D={})),function(e){e.Init="init",e.Section="section",e.Chord="chord",e.Modulation="modulation",e.Fixed="fixed"}(R||(R={}));var M,w={login:{isLogin:!1,user:""},scoreTabIndex:0,noteData:{scoreName:"",chordMode:_.SCALE,dataList:[]},noteState:{focusIndex:-1,cacheList:[],criteriaIndex:-1,editMode:k.NORMAL,selectedList:[],defaultSustain:2,floatwndState:I.NONE,chordPaletteState:{isAddition:!1,selectedLine:C.Root,molecule:{rootIndex:0,isFlat:!1},denominator:null,symbolKey:A[0].key,sustain:4,headAdjust:0,tailAdjust:0},backingPaletteState:{useChannels:[],isUsePedal:!1,sideIndex:0,selectedLenIndex:0,selectedChannelIndex:-1,layers:[],isCorrect:!0},backingThreads:[]},reffers:{},sampler:new F.a({E2:"https://dl.dropbox.com/s/0aghs80w9aggubw/KEPSREC040.mp3?dl=0",E3:"https://dl.dropbox.com/s/wxtf0u0ly03hu44/KEPSREC052.mp3?dl=0","A#3":"https://dl.dropbox.com/s/hbm9d1vo5tlxymk/KEPSREC058.mp3?dl=0",E4:"https://dl.dropbox.com/s/3qy88udfkzmzr13/KEPSREC064.mp3?dl=0",E5:"https://dl.dropbox.com/s/tdjp24r9pfoi2ff/KEPSREC076.mp3?dl=0",E6:"https://dl.dropbox.com/s/onp7h2vn2d6nhs7/KEPSREC088.mp3?dl=0"}).toDestination(),soundUseList:new Array(88)};!function(e){e[e.SET_LOGIN=0]="SET_LOGIN",e[e.SELECT_SCORETAB=1]="SELECT_SCORETAB",e[e.ADD_SECTION=2]="ADD_SECTION",e[e.SET_DEGREE_INDEX=3]="SET_DEGREE_INDEX",e[e.SET_SYMBOL_KEY=4]="SET_SYMBOL_KEY",e[e.DETAIL_PARAMS_SETTER=5]="DETAIL_PARAMS_SETTER",e[e.GET_ELEMENT_REFFER=6]="GET_ELEMENT_REFFER",e[e.INIT_DEFAULT_ELEMENTS=7]="INIT_DEFAULT_ELEMENTS",e[e.SELECT_NOTE_ELEMENT=8]="SELECT_NOTE_ELEMENT",e[e.GET_REFFER=9]="GET_REFFER",e[e.GET_REFFER_CONTEXT=10]="GET_REFFER_CONTEXT",e[e.GET_REFFER_CHORD_PALETTE=11]="GET_REFFER_CHORD_PALETTE",e[e.GET_REFFER_SECTION_PALETTE=12]="GET_REFFER_SECTION_PALETTE",e[e.GET_REFFER_BACKING_PALETTE=13]="GET_REFFER_BACKING_PALETTE",e[e.FLOATWND_STATE=14]="FLOATWND_STATE",e[e.CHORD_PALETTE_SETTER=15]="CHORD_PALETTE_SETTER",e[e.SET_NOTE_DATA=16]="SET_NOTE_DATA",e[e.SET_DATA_LIST=17]="SET_DATA_LIST",e[e.SET_NOTE_STATE=18]="SET_NOTE_STATE",e[e.INIT_BACKING_PALETTE=19]="INIT_BACKING_PALETTE",e[e.SET_USE_CHANNELS=20]="SET_USE_CHANNELS",e[e.BACKING_TOGGLE_MATRIX=21]="BACKING_TOGGLE_MATRIX"}(M||(M={}));var B=function(e,t){var a=t.type,n=t.payload;switch(a){case M.SET_LOGIN:return Object(O.a)(Object(O.a)({},e),{},{login:n.login});case M.SELECT_SCORETAB:return Object(O.a)(Object(O.a)({},e),{},{scoreTabIndex:n.index});case M.ADD_SECTION:var s=e.noteData.dataList.slice(),c={labelName:"Section"};return s.splice(n.index+1,0,{type:R.Section,detail:c}),Object(O.a)(Object(O.a)({},e),{},{noteData:Object(O.a)(Object(O.a)({},e.noteData),{},{dataList:s})});case M.SET_DEGREE_INDEX:var i=e.noteData.dataList[n.pos].detail;return null==i.molecule?i.molecule={rootIndex:n.degreeIndex,isFlat:!1}:i.molecule.rootIndex=n.degreeIndex,Object(O.a)(Object(O.a)({},e),{},{noteData:Object(O.a)(Object(O.a)({},e.noteData),{},{dataList:e.noteData.dataList})});case M.SET_SYMBOL_KEY:return e.noteData.dataList[n.pos].detail.symbolKey=n.symbolKey,Object(O.a)(Object(O.a)({},e),{},{noteData:Object(O.a)(Object(O.a)({},e.noteData),{},{dataList:e.noteData.dataList})});case M.INIT_DEFAULT_ELEMENTS:return Object(O.a)(Object(O.a)({},e),{},{noteData:Object(O.a)(Object(O.a)({},e.noteData),{},{dataList:[{type:R.Init,detail:{tempo:80,rythm:"4/4",keyIndex:0,scale:"major"}},{type:R.Fixed,detail:{label:"START"}},{type:R.Section,detail:{labelName:"Section"}},{type:R.Fixed,detail:{label:"END"}}]}),noteState:Object(O.a)(Object(O.a)({},e.noteState),{},{cacheList:[{},{},{},{}]})});case M.SELECT_NOTE_ELEMENT:return Object(O.a)(Object(O.a)({},e),{},{noteState:Object(O.a)(Object(O.a)({},e.noteState),{},{focusIndex:n.index})});case M.GET_REFFER_CONTEXT:return Object(O.a)(Object(O.a)({},e),{},{reffers:Object(O.a)(Object(O.a)({},e.reffers),{},{contextMneu:n.reffer})});case M.GET_REFFER_CHORD_PALETTE:return Object(O.a)(Object(O.a)({},e),{},{reffers:Object(O.a)(Object(O.a)({},e.reffers),{},{chordPalette:n.reffer})});case M.GET_REFFER_SECTION_PALETTE:return Object(O.a)(Object(O.a)({},e),{},{reffers:Object(O.a)(Object(O.a)({},e.reffers),{},{sectionPalette:n.reffer})});case M.GET_REFFER_BACKING_PALETTE:return Object(O.a)(Object(O.a)({},e),{},{reffers:Object(O.a)(Object(O.a)({},e.reffers),{},{backingPalette:n.reffer})});case M.FLOATWND_STATE:return Object(O.a)(Object(O.a)({},e),{},{noteState:Object(O.a)(Object(O.a)({},e.noteState),{},{floatwndState:n.state})});case M.CHORD_PALETTE_SETTER:return Object(O.a)(Object(O.a)({},e),{},{noteState:Object(O.a)(Object(O.a)({},e.noteState),{},{chordPaletteState:n.params})});case M.DETAIL_PARAMS_SETTER:var l=e.noteData.dataList.slice();return l[n.pos].detail=n.params,Object(O.a)(Object(O.a)({},e),{},{noteData:Object(O.a)(Object(O.a)({},e.noteData),{},{dataList:l})});case M.GET_REFFER:return Object(O.a)(Object(O.a)({},e),{},{reffers:n.reffers});case M.SET_NOTE_DATA:return Object(O.a)(Object(O.a)({},e),{},{noteData:n.data});case M.SET_DATA_LIST:return Object(O.a)(Object(O.a)({},e),{},{noteData:Object(O.a)(Object(O.a)({},e.noteData),{},{dataList:n.dataList})});case M.SET_NOTE_STATE:return Object(O.a)(Object(O.a)({},e),{},{noteState:n.noteState});case M.GET_ELEMENT_REFFER:return e.noteState.cacheList[n.pos].reffer=n.reffer,Object(O.a)(Object(O.a)({},e),{},{noteState:Object(O.a)(Object(O.a)({},e.noteState),{},{cacheList:e.noteState.cacheList})});case M.INIT_BACKING_PALETTE:return Object(O.a)(Object(O.a)({},e),{},{noteState:Object(O.a)(Object(O.a)({},e.noteState),{},{backingPaletteState:n.backingPaletteState})});case M.SET_USE_CHANNELS:for(var r=e.noteState.backingPaletteState,o=r.layers,d=n.useChannels,u=new Array(2),b=0;b<2;b++){for(var j=r.useChannels.length,E=o[b].lens.length,h=o[b].table,f=new Array(j),x=0;x<j;x++)if(x<h.length)f[x]=h[x];else{f[x]=new Array(E);for(var T=0;T<E;T++)f[x][T]=new Array(1),f[x][T][0]=!1}u[b]=Object(O.a)(Object(O.a)({},o[b]),{},{table:f})}return Object(O.a)(Object(O.a)({},e),{},{noteState:Object(O.a)(Object(O.a)({},e.noteState),{},{backingPaletteState:Object(O.a)(Object(O.a)({},e.noteState.backingPaletteState),{},{useChannels:d,layers:u})})});case M.BACKING_TOGGLE_MATRIX:var m=n.sideIndex,N=n.lenIndex,p=n.channelIndex,v=n.divIndex,S=e.noteState.backingPaletteState.layers;return S[m].table[p][N][v]=n.isUse,Object(O.a)(Object(O.a)({},e),{},{noteState:Object(O.a)(Object(O.a)({},e.noteState),{},{backingPaletteState:Object(O.a)(Object(O.a)({},e.noteState.backingPaletteState),{},{layers:S})})})}},G=function(e){var t=null;null!=e&&(t=(e.isFlat?E:h)[e.rootIndex]);return t},H=function(e,t){var a=null;null!=e&&(a=(e.isFlat?f:x)[(e.rootIndex+t)%12]);return a},K=function(e){var t="";return A.forEach((function(a){a.key==e&&(t=a.name)})),t},U=function(e){var t=Object(c.useContext)(Fe),a=t.state,n=t.dispatcher,s=a.noteData.chordMode,i=a.noteState.cacheList[e.index];switch(e.noteElement.type){case R.Fixed:var l=e.noteElement.detail;return Object(d.jsx)("span",{children:l.label});case R.Init:var r=e.noteElement.detail,o=[];return o.push(Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Tempo: "}),Object(d.jsx)("span",{children:r.tempo})]},o.length)),o.push(Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Beat: "}),Object(d.jsx)("span",{children:r.rythm})]},o.length)),s==_.SCALE&&(o.push(Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Key: "}),Object(d.jsx)("span",{children:r.scale==N[0]?T[r.keyIndex]:m[r.keyIndex]})]},o.length)),o.push(Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Scale: "}),Object(d.jsx)("span",{children:r.scale})]},o.length))),Object(d.jsx)("div",{children:o});case R.Chord:var u=e.noteElement.detail,b=G(u.molecule),j=G(u.denominator),O=H(u.molecule,i.init.keyIndex),E=H(u.denominator,i.init.keyIndex),h="",f=!1,x="blank",p="-";null!=b&&(h=K(u.symbolKey),f=S.includes(b+h),x="".concat(b).concat(h).concat(null==j?"":"/"+j),p="".concat(O).concat(h).concat(null==E?"":"/"+E));for(var v=[],L=0;L<u.sustain;L++)v.push(Object(d.jsx)("span",{},L));var A=i.progress.barCount,I=i.progress.remaindBeat,C=Math.round(i.progress.headMSec/1e3*10)/10,g=n.backing.getNotesCount(u.backing);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"degree"+(null==u.molecule?" blank":"")+(f?" diatonic":"")+(a.noteData.chordMode==_.DIRECT?" visible":""),children:Object(d.jsx)("span",{children:x})}),Object(d.jsx)("div",{className:a.noteData.chordMode==_.DIRECT?"degree":"chord",children:Object(d.jsx)("span",{children:p})}),Object(d.jsx)("div",{className:"sustain",children:v}),Object(d.jsxs)("div",{className:"progress-sustain",children:[Object(d.jsx)("span",{className:"bar",children:-1!=A?A:""}),Object(d.jsx)("span",{className:"beat",children:-1!=I?I:""})]}),Object(d.jsx)("div",{className:"progress-time",children:Object(d.jsxs)("span",{children:[C,"s"]})}),Object(d.jsx)("div",{className:"backing-script"+(0==g?" hidden":""),children:Object(d.jsxs)("span",{children:["notes: ",g]})})]});case R.Section:var y=e.noteElement.detail;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"name",children:Object(d.jsx)("span",{children:y.labelName})}),Object(d.jsx)("div",{className:"border"})]});case R.Modulation:var k=e.noteElement.detail,D=[];return D.push(Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Tempo: "}),Object(d.jsx)("span",{children:k.tempo})]},D.length)),D.push(Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Beat: "}),Object(d.jsx)("span",{children:k.timeSignatures})]},D.length)),_.SCALE,Object(d.jsx)("div",{children:D})}},W=(a(43),function(e){var t=Object(c.useContext)(Fe),a=t.state,n=t.dispatch,s=t.dispatcher,i=e.index<a.noteData.dataList.length,l=Object(c.useRef)({});if(Object(c.useEffect)((function(){i&&n(M.GET_ELEMENT_REFFER,{pos:e.index,reffer:l.current})}),[a.noteData.dataList]),!i)return Object(d.jsx)(d.Fragment,{});var r=e.noteElement.type,o=a.noteState.editMode,u=a.noteState.cacheList[e.index],b=a.noteState.focusIndex,j=b==e.index,E=a.noteState.criteriaIndex==e.index,h=function(){a.noteData.dataList[e.index].type!=R.Fixed&&n(M.SELECT_NOTE_ELEMENT,{index:e.index})},f=Object(d.jsx)(d.Fragment,{});return e.index==a.noteData.dataList.length-2&&(f=Object(d.jsx)("div",{className:"addition"+(o==k.NORMAL?"":" disable"),onClick:function(){n(M.SELECT_NOTE_ELEMENT,{index:e.index}),s.score.addChordElement(),n(M.SELECT_NOTE_ELEMENT,{index:e.index+1}),n(M.FLOATWND_STATE,{state:I.CHORD_PALETTE}),n(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},a.noteState.chordPaletteState),{},{isAddition:!0,rootIndex:0,isFlat:!1,symbolKey:A[0].key,sustain:4})})},children:Object(d.jsx)("span",{children:"+"})})),Object(d.jsxs)("div",{className:"box",children:[Object(d.jsxs)("div",{className:"info-base",children:[Object(d.jsx)("div",{className:"header",children:function(){var t=[];return[R.Chord,R.Section,R.Modulation].includes(r)&&(R.Chord==r&&t.push(Object(d.jsx)("div",{className:"chord-no",children:Object(d.jsx)("span",{children:u.progress.no})},t.length)),t.push(Object(d.jsx)("div",{className:"del"+(o==k.NORMAL?"":" hidden"),onClick:function(){s.score.deleteElement(e.index)},children:Object(d.jsx)("span",{children:"\xd7"})},t.length))),Object(d.jsx)(d.Fragment,{children:t})}()}),Object(d.jsx)("div",{className:["note-element",function(){switch(r){case R.Fixed:return"detail-fixed";case R.Init:return"detail-init";case R.Chord:return"detail-chord";case R.Section:return"detail-section";case R.Modulation:return"detail-mod"}}(),j?"active":"",E?"criteria":"",[R.Init,R.Section,R.Chord,R.Modulation].includes(r)?"selectable":"",function(){var t=a.noteData.dataList,n=[t.length],s=-1,c=-1;return t.forEach((function(e,t){e.type==R.Section&&s++,n[t]=s,b==t&&(c=s)})),n[e.index]==c&&r!=R.Fixed}()?"current":"",o!=k.BACKING?"":r==R.Chord&&null!=e.noteElement.detail.molecule?a.noteState.selectedList.includes(e.index)?"copy-selected":"copy-tgt":"copy-no-tgt"].join(" "),onClick:function(){o==k.NORMAL?(h(),n(M.FLOATWND_STATE,{state:I.NONE})):function(){var t=a.noteState.selectedList;t.includes(e.index)?t.some((function(a,n){a==e.index&&t.splice(n,1)})):t.push(e.index),s.score.setSelectedList(t)}()},onContextMenu:function(t){if(o==k.NORMAL)switch(h(),a.noteData.dataList[e.index].type){case R.Init:n(M.FLOATWND_STATE,{state:I.INIT_PALETTE});break;case R.Section:case R.Chord:a.reffers.contextMneu.style.left=t.clientX+"px",a.reffers.contextMneu.style.top=t.clientY+"px",n(M.FLOATWND_STATE,{state:I.CONTEXT_MENU})}},ref:l,children:Object(d.jsx)(U,{index:e.index,noteElement:e.noteElement})})]}),f]})}),J=function(e){var t=Object(c.useContext)(Fe),a=t.state;t.dispatch;return Object(d.jsx)("div",{className:function(){var t=a.noteData.dataList,n=a.noteState.focusIndex,s=-1,c=-1;return t.forEach((function(e,t){e.type==R.Section&&s++,n==t&&(c=s)})),c==e.index}()?"active":"",children:Object(d.jsx)("span",{children:e.label})})},V=(a(44),function(e){return Object(d.jsxs)("div",{className:e.disable?"disable":"",onClick:function(){e.executer()},children:[Object(d.jsx)("span",{className:e.menuType,children:e.label}),Object(d.jsx)("span",{className:"key",children:"<".concat(e.keyName," key>")})]})}),X=function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch,n=e.dispatcher,s=function(){return a(M.FLOATWND_STATE,{state:I.NONE})},i=Object(c.useRef)({});Object(c.useEffect)((function(){a(M.GET_REFFER_CONTEXT,{reffer:i.current})}),[]);var l=[];if(t.noteState.floatwndState==I.CONTEXT_MENU){var r=t.noteData.dataList[t.noteState.focusIndex];switch(l.push({menuType:"order",label:"INSERT BLANK",keyName:"A",disable:!1,executer:function(){n.score.addChordElement(),s()}}),l.push({menuType:"call",label:"INSERT CHORD",keyName:"W",disable:!1,executer:function(){n.score.addChordElement(),a(M.SELECT_NOTE_ELEMENT,{index:t.noteState.focusIndex+1}),a(M.FLOATWND_STATE,{state:I.CHORD_PALETTE});var e=r.detail;a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},t.noteState.chordPaletteState),{},{isAddition:!0,denominator:e.denominator,molecule:e.molecule,symbolKey:e.symbolKey,sustain:e.sustain})})}}),l.push({menuType:"order",label:"INSERT SECTION",keyName:"S",disable:!1,executer:function(){n.score.addSectionElement(),s()}}),l.push({menuType:"order",label:"INSERT MODULATION",keyName:"M",disable:!1,executer:function(){}}),r.type){case R.Chord:var o=r.detail;l.push({menuType:"order",label:"BLANK CHORD",keyName:"D",disable:null!=o.molecule,executer:function(){a(M.SET_DEGREE_INDEX,{pos:t.noteState.focusIndex,degreeIndex:-1}),s()}}),l.push({menuType:"call",label:"EDIT CHORD",keyName:"C",disable:!1,executer:function(){a(M.FLOATWND_STATE,{state:I.CHORD_PALETTE}),a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},t.noteState.chordPaletteState),{},{denominator:o.denominator,molecule:o.molecule,symbolKey:o.symbolKey,sustain:o.sustain})})}}),l.push({menuType:"call",label:"EDIT BACKING",keyName:"B",disable:null==o.molecule,executer:function(){n.score.callBackingEditor()}}),l.push({menuType:"order",label:"COPY BACKING",keyName:"X",disable:null==o.molecule,executer:function(){n.score.setCriteria(),a(M.FLOATWND_STATE,{state:I.NONE})}});break;case R.Section:l.push({menuType:"call",label:"EDIT SECTION",keyName:"C",disable:!1,executer:function(){n.score.callSectionEditor()}})}l.push({menuType:"order",label:"REMOVE",keyName:"DEL",disable:!1,executer:function(){n.score.deleteCurElement(),a(M.FLOATWND_STATE,{state:I.NONE})}})}var u=[];return l.forEach((function(e,t){u.push(Object(d.jsx)(V,{menuType:e.menuType,label:e.label,keyName:e.keyName,disable:e.disable,executer:e.executer},t))})),Object(d.jsx)("div",{ref:i,id:"note-contextmenu",className:"floatwnd"+(t.noteState.floatwndState==I.CONTEXT_MENU?" active":""),onClick:function(){},children:u})};function Y(e){var t=null;return A.forEach((function(a){a.key==e&&(t=a)})),t}var z,q,Z=function(e){var t="";return 0!=e&&(t=e>0?"+"+e:e.toString()),t},$=(a(45),function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch,n=e.dispatcher,s=Object(c.useRef)(null),i=Object(c.useRef)(null),l=t.noteState.chordPaletteState,r=t.noteState.focusIndex,u=(t.noteData.dataList[r].detail,t.noteState.cacheList[r]);Object(c.useEffect)((function(){a(M.GET_REFFER_CHORD_PALETTE,{reffer:s.current});var e=i.current;e.width=590,e.height=66}),[]),Object(c.useEffect)((function(){t.noteState.floatwndState==I.CHORD_PALETTE&&b(l.molecule.rootIndex,null==l.denominator?-1:l.denominator.rootIndex,l.symbolKey)}),[l,t.noteState.floatwndState]);var b=function(e,t,a){var n=i.current.getContext("2d"),s=(u.init.keyIndex+e)%12,c=Y(a).intervals.map((function(e){return s+e})),l=-1;-1!=t&&(l=u.init.keyIndex+t),n.fillStyle="#008",n.fillRect(0,0,594,70);for(var r=34,o=0,d=[],b=0;b<27;b++){var j="#eee",O=r,E=60,h=[1,3,6,8,10].includes(b%12);switch(h&&(j="#111",O=17,E=36),c.includes(b)&&(j="#fa0"),l==b&&(j="#ff0000"),d.push({posX:15+o,fillStyle:j,width:O,height:E,isBlack:h}),b%12){case 0:case 2:case 5:case 7:case 9:o+=25.5;break;case 1:case 3:case 6:case 8:case 10:o+=9.5;break;default:o+=35}}d.forEach((function(e){e.isBlack||(n.fillStyle=e.fillStyle,n.fillRect(e.posX,3,e.width,e.height))})),d.forEach((function(e){e.isBlack&&(n.fillStyle=e.fillStyle,n.fillRect(e.posX,3,e.width,e.height),n.fillStyle="#f00",n.strokeRect(e.posX,3,e.width,e.height))})),n.save()},T=[],m=[],N=[],p=Object(d.jsx)(d.Fragment,{}),v=t.noteData.chordMode==_.DIRECT;if(t.noteState.floatwndState==I.CHORD_PALETTE){h.forEach((function(e,n){var s=(u.init.keyIndex+n)%12,c=E[n],i=x[s],r=f[s],o=[1,3,6,8,10].includes(n),b=l.molecule.rootIndex==n,j=(null==l.denominator?-1:l.denominator.rootIndex)==n,h=function(a){return t.noteData.chordMode==_.SCALE?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"degree",children:a?c:e}),Object(d.jsx)("span",{children:"\xa0("}),Object(d.jsx)("span",{className:"chord",children:a?r:i}),Object(d.jsx)("span",{children:")"})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("span",{className:"degree",children:a?r:i})})};T.push(Object(d.jsx)("div",{children:o?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:["half",b&&!l.molecule.isFlat?" active":"",j&&null!=l.denominator&&!l.denominator.isFlat?" denominator":""].join(" "),onClick:function(){var e=!j||null==l.denominator||l.denominator.isFlat?l.denominator:null;a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{selectedLine:C.Root,molecule:{rootIndex:n,isFlat:!1},denominator:e})})},onContextMenu:function(){if(!b||l.molecule.isFlat){var e=!j||null==l.denominator||l.denominator.isFlat?{rootIndex:n,isFlat:!1}:null;a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{selectedLine:C.Root,denominator:e})})}},children:h(!1)}),Object(d.jsx)("div",{className:["half",b&&l.molecule.isFlat?" active":"",j&&null!=l.denominator&&l.denominator.isFlat?" denominator":""].join(" "),onClick:function(){var e=j&&null!=l.denominator&&l.denominator.isFlat?null:l.denominator;a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{selectedLine:C.Root,molecule:{rootIndex:n,isFlat:!0},denominator:e})})},onContextMenu:function(){if(!b||!l.molecule.isFlat){var e=j&&null!=l.denominator&&l.denominator.isFlat?null:{rootIndex:n,isFlat:!0};a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{selectedLine:C.Root,denominator:e})})}},children:h(!0)})]}):Object(d.jsx)("div",{className:[b?"active":"",j?"denominator":""].join(" "),onClick:function(){var e=j?null:l.denominator;a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{selectedLine:C.Root,molecule:{rootIndex:n,isFlat:!1},denominator:e})})},onContextMenu:function(){if(!b){var e=j?null:{rootIndex:n,isFlat:!1};a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{selectedLine:C.Root,denominator:e})})}},children:h(!1)})},n))})),A.forEach((function(e,t){m.push(Object(d.jsx)("div",{className:e.key==l.symbolKey?"active":"",onClick:function(){a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{selectedLine:C.Symbol,symbolKey:e.key})})},children:Object(d.jsxs)("span",{children:["[",e.name,"]"]})},t))}));for(var S=function(e){N.push(Object(d.jsx)("div",{className:l.sustain>=e+1?"active":"",onClick:function(){a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{selectedLine:C.Sustain,sustain:e+1})})}},e))},L=0;L<8;L++)S(L);p=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:function(){a(M.FLOATWND_STATE,{state:I.NONE})},children:Object(d.jsx)("span",{children:"Cancel"})}),Object(d.jsx)("div",{onClick:function(){n.chord.setCurChordParam()},children:Object(d.jsx)("span",{children:"Enter"})})]})}var g=function(e,t){var n="h"==e?["h","head",l.headAdjust==t,function(){return a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{headAdjust:t})})}]:["t","tail",l.tailAdjust==t,function(){return a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},l),{},{tailAdjust:t})})}],s=Object(o.a)(n,4),c=s[0],i=s[1],r=s[2],u=s[3];return t>=0&&(c+=t>0?"+":"\xb1"),Object(d.jsx)("div",{className:[i,r?"active":""].join(" "),onClick:u,children:Object(d.jsx)("span",{children:c+t})})};return Object(d.jsxs)("div",{ref:s,id:"total-palette",className:"floatwnd"+(t.noteState.floatwndState==I.CHORD_PALETTE?" active":""),onClick:function(){},children:[Object(d.jsx)(j,{groupName:"selector-tabs",tabElements:[{name:"Scale",disable:v,cont:Object(d.jsx)(d.Fragment,{})},{name:"Direct",disable:!1,cont:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"chord-selector"+(l.selectedLine==C.Root?" active":""),children:T}),Object(d.jsx)("div",{className:"symbol-selector"+(l.selectedLine==C.Symbol?" active":""),children:m})]})}],activeNo:1}),Object(d.jsx)("div",{className:"piano-view",children:Object(d.jsx)("canvas",{ref:i})}),Object(d.jsx)("div",{className:"beat-selector"+(l.selectedLine==C.Sustain?" active":""),children:N}),Object(d.jsxs)("div",{className:"adjuster"+(l.selectedLine==C.Adjuster?" active":""),children:[g("h",-.5),g("h",-.25),g("h",0),g("h",.25),g("h",.5),g("t",-.5),g("t",-.25),g("t",0),g("t",.25),g("t",.5)]}),Object(d.jsx)("div",{className:"operation",children:p})]})}),Q=(a(46),function(){var e=Object(c.useContext)(Fe),t=e.state,a=(e.dispatch,t.noteState.focusIndex);if(-1==a)return Object(d.jsx)(d.Fragment,{});var n=t.noteData.dataList[a],s=t.noteState.cacheList[a],i=Object(d.jsx)(d.Fragment,{});switch(n.type){case R.Chord:var l=n.detail,r="-";if(null!=l.molecule){var o=l.molecule.rootIndex,u=h[o],b=x[o];r="".concat(u," (").concat(b,")")}var j,O="-";if(null!=l.molecule)O="[".concat(null===(j=Y(l.symbolKey))||void 0===j?void 0:j.name,"]");var E=ee("Base",[{title:"Tempo",value:""+s.init.tempo,disable:!1},{title:"Beat",value:s.init.rythm,disable:!1},{title:"Key",value:x[s.init.keyIndex],disable:!1},{title:"Scale",value:s.init.scale,disable:!1}]),f=ee("Chord",[{title:"Root",value:r,disable:"-"==r},{title:"Symbol",value:O,disable:"-"==O},{title:"On chord",value:"-",disable:!0},{title:"Sustain",value:String(l.sustain),disable:!1},{title:"Adjsut-H",value:Z(l.headAdjust),disable:0==l.headAdjust},{title:"Adjsut-T",value:Z(l.tailAdjust),disable:0==l.tailAdjust}]);i=Object(d.jsx)("div",{className:"chord",children:Object(d.jsxs)("div",{children:[E,f,function(){if(null!=l.molecule){for(var e=[],t=Y(l.symbolKey),a=null===t||void 0===t?void 0:t.intervals,n=null===a||void 0===a?void 0:a.length,s=0;s<7;s++)if(s<n){var c=null===t||void 0===t?void 0:t.intervals[s],i=null===t||void 0===t?void 0:t.struct[s],r=x[(l.molecule.rootIndex+c)%12];e.push(Object(d.jsxs)("div",{className:"record",children:[Object(d.jsx)("div",{className:"interval",children:Object(d.jsx)("span",{children:c})}),Object(d.jsx)("div",{className:"struct",children:Object(d.jsx)("span",{children:i})}),Object(d.jsx)("div",{className:"sound",children:Object(d.jsx)("span",{children:r})})]},s))}else e.push(Object(d.jsxs)("div",{className:"record disable",children:[Object(d.jsx)("div",{className:"interval"}),Object(d.jsx)("div",{className:"struct"}),Object(d.jsx)("div",{className:"sound"})]},s));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("span",{children:"Struct"})}),Object(d.jsx)("div",{className:"symbol-struct",children:e})]})}return Object(d.jsx)(d.Fragment,{})}()]})});break;case R.Section:var T=n.detail,m=ee("Section",[{title:"label",value:T.labelName,disable:!1},{title:"box count",value:"-",disable:!0},{title:"total bar",value:"-",disable:!0},{title:"total time",value:"-",disable:!0}]);i=Object(d.jsx)("div",{className:"chord",children:Object(d.jsx)("div",{children:m})})}return Object(d.jsx)("div",{id:"current-detail",children:i})}),ee=function(e,t){var a=[];return t.forEach((function(e,t){a.push(Object(d.jsxs)("div",{className:"record"+(e.disable?" disable":""),children:[Object(d.jsx)("div",{className:"title",children:Object(d.jsxs)("span",{children:[e.title,":"]})}),Object(d.jsx)("div",{className:"value",children:Object(d.jsx)("span",{children:e.value})})]},t))})),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("span",{children:e})}),Object(d.jsx)("div",{className:"current-state",children:a})]})},te=(a(47),function(e){var t=e.dispatcher,a=e.paletteState,n=a.sideIndex,s=a.layers[n],c=a.selectedLenIndex,i=s.lens[c],l=s.vels[c],r=function(e){var s=a.layers;s[n].lens[c]=e,t.initBackingPalette(Object(O.a)(Object(O.a)({},a),{},{layers:s}))},o=function(e){i.len=e,i.isHalf=!1,i.isDiv3=!1,r(i)},u=function(e){var s=a.layers,i=s[n].vels[c];s[n].vels[c]=i+e,t.initBackingPalette(Object(O.a)(Object(O.a)({},a),{},{layers:s}))},b=i.len,j=[{label:"16",isActive:b==y.LEN16,isDisable:!1,callback:function(){o(y.LEN16)}},{label:"8",isActive:b==y.LEN8,isDisable:!1,callback:function(){o(y.LEN8)}},{label:"4",isActive:b==y.LEN4,isDisable:!1,callback:function(){o(y.LEN4)}},{label:"2",isActive:b==y.LEN2,isDisable:!1,callback:function(){o(y.LEN2)}},{label:"1",isActive:b==y.LEN1,isDisable:!1,callback:function(){o(y.LEN1)}},{label:".",isActive:i.isHalf,isDisable:!t.backing.isAcceptHalf(),callback:function(){i.isHalf=!i.isHalf,i.isDiv3=!1,r(i)}},{label:"/ 3",isActive:i.isDiv3,isDisable:!t.backing.isAcceptDiv3(),callback:function(){i.isDiv3=!i.isDiv3,i.isHalf=!1,r(i)}},{label:"Add",isActive:!1,isDisable:!1,callback:function(){t.backing.addLen()}},{label:"Del",isActive:!1,isDisable:s.lens.length<=1,callback:function(){t.backing.delLen()}},{label:"vel-",isActive:!1,isDisable:l<=1,callback:function(){u(-1)}},{label:"vel+",isActive:!1,isDisable:l>=10,callback:function(){u(1)}},{label:"all clear",isActive:!1,isDisable:!1,callback:function(){var e={useChannels:[],isUsePedal:!1,sideIndex:0,selectedLenIndex:0,selectedChannelIndex:-1,layers:[{lens:[{len:y.LEN4,isDiv3:!1,isHalf:!1}],side:g.LEFT,table:[],vels:[5]},{lens:[{len:y.LEN4,isDiv3:!1,isHalf:!1}],side:g.RIGHT,table:[],vels:[5]}],isCorrect:!0};t.initBackingPalette(e)}}],E=[];return j.forEach((function(e,t){E.push(Object(d.jsx)("button",{className:(e.isActive?"active":"")+(e.isDisable?" disable":""),onClick:function(){return e.callback()},children:Object(d.jsx)("span",{children:e.label})},t))})),Object(d.jsx)(d.Fragment,{children:E})}),ae=function(e,t,a,n,s){var c=e[0==t?0:1],i=e[1==t?0:1],l="";if(c.table[a][n][s]){l="active";var r=se(c.lens,n,s);i.lens.forEach((function(e,t){for(var n=0;n<(e.isDiv3?3:1);n++){var s=se(i.lens,t,n);i.table[a][t][n]&&(ne(r,s)||ne(s,r))&&(l="overlap")}}))}return l},ne=function(e,t){return e.head+e.width>t.head&&e.head+e.width<=t.head+t.width||e.head<t.head+t.width&&e.head>=t.head},se=function(e,t,a){for(var n=0,s=0;s<t;s++){var c=e[s];n+=ce(c)}var i=e[t],l=ce(i);return i.isDiv3&&(n+=l/3*a,l/=3),{head:n,width:l}},ce=function(e){var t=0;switch(e.len){case y.LEN1:t=16;break;case y.LEN2:t=8;break;case y.LEN4:t=4;break;case y.LEN8:t=2;break;case y.LEN16:t=1}return e.isHalf&&(t*=1.5),t},ie=function(e){for(var t=Object(c.useContext)(de).setCorrect,a=e.paletteState,n=e.channelList,s=e.dispatcher,i=[],l=!1,r=function(e){for(var t=[],c=a.layers[e],r=a.sideIndex==e,o=function(n){var i=[];c.lens.forEach((function(t,c){var r="";switch(t.len){case y.LEN4:r+="len4","4";break;case y.LEN8:r+="len8","8";break;case y.LEN16:r+="len16","16";break;case y.LEN2:r+="len2","2";break;case y.LEN1:r+="len1","1"}t.isHalf&&(r+=" half");for(var o=[],u=t.isDiv3?3:1,b=function(i){var r=ae(a.layers,e,n,c,i);"overlap"==r&&(l=!0),o.push(Object(d.jsx)("div",{className:[r,t.isDiv3?"div3":""].join(" "),onClick:function(){s.backing.toggleMatrix(n,c,i)}},i))},j=0;j<u;j++)b(j);i.push(Object(d.jsx)("div",{className:r,children:o},c))})),t.push(Object(d.jsx)("div",{className:"line",children:i},n))},u=n.length-1;u>=0;u--)o(u);i.push(Object(d.jsx)("div",{className:r?"cur":"back",children:t},e))},o=0;o<2;o++)r(o);return t(!l),Object(d.jsx)("div",{className:"matrix",children:i})},le=function(e){var t=e.layer,a=e.chordDetail,n=4*(a.sustain+a.headAdjust+a.tailAdjust),s=[],c=0;t.lens.forEach((function(e,t){var a=0;switch(e.len){case y.LEN1:a=16;break;case y.LEN2:a=8;break;case y.LEN4:a=4;break;case y.LEN8:a=2;break;case y.LEN16:a=1}e.isHalf&&(a*=1.5),c+=a}));var i=c>n;c=i?c:n;for(var l=function(e){var t=e+4*a.headAdjust;s.push(Object(d.jsx)("div",{className:t%2==0?t%4==0?"mem4":"mem8":"mem16"},e))},r=0;r<c;r++)l(r);var o=31*n,u=i?Object(d.jsx)("div",{style:{left:"".concat(o,"px"),width:"".concat(31*(c-n),"px")},className:"over"}):Object(d.jsx)("div",{style:{left:"".concat(o,"px"),width:"5px"},className:"safe"});return Object(d.jsxs)("div",{className:"measure",children:[s,u]})},re=function(e){var t=e.paletteState,a=t.sideIndex,n=t.layers[a],s=e.dispatcher,c=e.channelList,i=e.testPlaySound,l=[];c.forEach((function(e,t){l.push(Object(d.jsx)("div",{className:"channel",onClick:function(){return i(e.soundFullName)},children:Object(d.jsx)("span",{children:e.soundFullName})},t))}));var r=[],o=[];return n.lens.forEach((function(e,a){var c=t.selectedLenIndex==a?"active ":"",i="";switch(e.len){case y.LEN4:c+="len4",i="4";break;case y.LEN8:c+="len8",i="8";break;case y.LEN16:c+="len16",i="16";break;case y.LEN2:c+="len2",i="2";break;case y.LEN1:c+="len1",i="1"}e.isHalf&&(i+=" .",c+=" half"),e.isDiv3&&(i+=" /"),r.push(Object(d.jsx)("div",{className:c,onClick:function(){s.initBackingPalette(Object(O.a)(Object(O.a)({},t),{},{selectedLenIndex:a}))},children:Object(d.jsx)("span",{children:i})},a));var l=n.vels[a];o.push(Object(d.jsx)("div",{className:c,children:Object(d.jsx)("div",{style:{height:10*l+"%"}})},a))})),Object(d.jsxs)("div",{className:"backing-table",children:[Object(d.jsx)("div",{className:"switch",children:Object(d.jsx)(te,{dispatcher:s,paletteState:t})}),Object(d.jsxs)("div",{className:"fixed",children:[Object(d.jsxs)("div",{className:"layer",children:[Object(d.jsx)("button",{className:1==t.sideIndex?"active":"",onClick:function(){s.backing.setLayerIndex(1)},children:Object(d.jsx)("span",{children:"Right"})}),Object(d.jsx)("button",{className:0==t.sideIndex?"active":"",onClick:function(){s.backing.setLayerIndex(0)},children:Object(d.jsx)("span",{children:"Left"})})]}),Object(d.jsx)("div",{className:"matrix",children:l}),Object(d.jsx)("div",{className:"pedal",children:Object(d.jsx)("button",{className:t.isUsePedal?"active":"",onClick:function(){s.backing.setUsePedal(!t.isUsePedal)},children:Object(d.jsx)("span",{children:"Pedal"})})})]}),Object(d.jsxs)("div",{className:"main",children:[Object(d.jsx)("div",{className:"split",children:r}),Object(d.jsx)(le,{chordDetail:e.chordDetail,layer:n}),Object(d.jsx)(ie,{paletteState:t,channelList:c,dispatcher:s}),Object(d.jsx)("div",{className:"volume",children:o})]})]})},oe=function(e){for(var t=[],a=function(a){var n=a<e.symbol.intervals.length,s=[];if(n){var c=e.structs[a],i=e.symbol.intervals[a],l=e.symbol.struct[a];s.push(Object(d.jsx)("div",{className:"label",children:Object(d.jsxs)("span",{children:[l,"[",i,"]: ",c]})},0));for(var r=function(t){var n=e.degreeIndex+e.symbol.intervals[a]+12*t,c=Math.floor(n/12),i=e.structs[a]+c,l=n<9||n>=97,r=!1;e.paletteState.useChannels.forEach((function(e){e.octave==t&&e.structIndex==a&&(r=!0)}));var o=e.paletteState.useChannels.length>=12&&!r;s.push(Object(d.jsx)("div",{className:"col"+(l||o?" disable":"")+(r?" active":""),onClick:function(){var n=e.paletteState.useChannels;if(r){var s=-1;n.forEach((function(e,n){e.octave==t&&e.structIndex==a&&(s=n)})),n.splice(s,1)}else n.push({octave:t,structIndex:a});n.sort((function(e,t){return 8*e.octave+e.structIndex-(8*t.octave+t.structIndex)})),e.paletteState.useChannels=n,e.setUseChannels(e.paletteState.useChannels)},onContextMenu:function(){e.testPlaySound(i)},children:Object(d.jsx)("span",{children:l?"-":i})},t+1))},o=0;o<8;o++)r(o)}else{s.push(Object(d.jsx)("div",{className:"label"},0));for(var u=0;u<8;u++)s.push(Object(d.jsx)("div",{className:"col"},u+1))}t.push(Object(d.jsx)("div",{className:"record"+(n?"":" disable"),children:s},a))},n=0;n<7;n++)a(n);return Object(d.jsx)("div",{className:"struct-table",children:t})},de=Object(c.createContext)({}),ue=function(e,t,a,n){for(var s=[],c=function(c){for(var i=function(i){var l=t+a.intervals[c]+12*i,r=!1;e.forEach((function(e){e.octave==i&&e.structIndex==c&&(r=!0)}));var o=Math.floor(l/12),d=n[c]+o;r&&s.push({soundIndex:l,soundFullName:d})},l=0;l<8;l++)i(l)},i=0;i<a.intervals.length;i++)c(i);return s.sort((function(e,t){return t.soundIndex-e.soundIndex})),s},be=function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch,n=e.dispatcher,s=Object(c.useState)(!0),i=Object(o.a)(s,2),l=i[0],r=i[1],u=Object(c.useRef)({});if(Object(c.useEffect)((function(){a(M.GET_REFFER_BACKING_PALETTE,{reffer:u.current})}),[]),Object(c.useEffect)((function(){n.backing.setCorrect(l)}),[l]),t.noteState.floatwndState!=I.BACKING_PALETTE)return Object(d.jsx)(d.Fragment,{});var b=t.noteState.backingPaletteState,j=b.sideIndex,O=(b.layers[j],b.selectedLenIndex,t.noteState.focusIndex),E=t.noteData.dataList[O].detail,h=t.noteState.cacheList[O],f=E.molecule.rootIndex,T=Y(E.symbolKey),m=x[f]+T.name,N=[];T.intervals.forEach((function(e){N.push(x[(h.init.keyIndex+f+e)%12])}));var p=ue(b.useChannels,f,T,N),v=function(e){t.sampler.triggerAttack(e,"+0",.15),setTimeout((function(){t.sampler.triggerRelease(e)}),1e3)},S=d.Fragment;return S=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:function(){a(M.FLOATWND_STATE,{state:I.NONE})},children:Object(d.jsx)("span",{children:"Cancel"})}),Object(d.jsx)("div",{className:[b.isCorrect?"":"disable"].join(" "),onClick:function(){n.backing.play(!1)},children:Object(d.jsx)("span",{children:"Play"})}),Object(d.jsx)("div",{className:[b.isCorrect?"":"disable"].join(" "),onClick:function(){n.backing.setCurBackingScript()},children:Object(d.jsx)("span",{children:"Update"})})]}),Object(d.jsx)(de.Provider,{value:{isCorrect:l,setCorrect:function(e){return r(e)}},children:Object(d.jsxs)("div",{ref:u,id:"backing-palette",className:"floatwnd"+(t.noteState.floatwndState==I.BACKING_PALETTE?" active":""),onClick:function(){},children:[Object(d.jsxs)("div",{className:"base-info",children:[Object(d.jsxs)("div",{className:"record",children:[Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("span",{children:"Chord:"})}),Object(d.jsx)("div",{className:"value",children:Object(d.jsx)("span",{children:m})})]}),Object(d.jsxs)("div",{className:"record",children:[Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("span",{children:"Struct:"})}),Object(d.jsx)("div",{className:"value",children:Object(d.jsx)("span",{children:N.join(", ")})})]}),Object(d.jsxs)("div",{className:"record",children:[Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("span",{children:"Sustain:"})}),Object(d.jsx)("div",{className:"value",children:Object(d.jsx)("span",{children:E.sustain})})]})]}),Object(d.jsx)(oe,{paletteState:b,structs:N,symbol:T,degreeIndex:f,testPlaySound:v,setUseChannels:function(e){return n.setUseChannels(e)}}),Object(d.jsx)(re,{chordDetail:E,channelList:p,paletteState:b,dispatcher:n,testPlaySound:v}),Object(d.jsx)("div",{className:"operation",children:S})]})})},je=a(11),Oe=(a(48),a(12)),Ee=100,he=(Oe.a.div(z||(z=Object(je.a)(["\n    font-size: 0;\n    display: inline-inline-block;\n"]))),function(e){var t="";return 0!=e&&(t=e>0?"aug":"dim"),t}),fe=function(){var e=Object(c.useContext)(Fe),t=e.state,a=(e.dispatcher,t.noteData.dataList),n=t.noteState.focusIndex,s=t.noteData.dataList.length,i=Object(c.useRef)({}),l=Object(c.useState)([]),r=Object(o.a)(l,2),u=r[0],b=r[1],j=Object(c.useState)([]),O=Object(o.a)(j,2),E=O[0],h=O[1],f=Object(c.useState)(0),x=Object(o.a)(f,2),T=x[0],m=x[1],N=a[n].type==R.Chord?a[n].detail:null,p=null==N?0:N.sustain,v=null==N?0:N.headAdjust,S=null==N?0:N.tailAdjust;if(Object(c.useEffect)((function(){var e=0,a=[],s=[];t.noteData.dataList.forEach((function(t,s){if(t.type==R.Init&&a.push(Object(d.jsx)("div",{className:[].join(" "),style:{width:"".concat(Ee,"px")}},a.length)),t.type==R.Chord){var c=t.detail,l=c.sustain+c.headAdjust+c.tailAdjust,r=16*l*4,o=n==s,u=n==s-1||n==s+1;a.push(Object(d.jsxs)("div",{className:[o?"active":"",u?"near":""].join(" "),style:{width:"".concat(r-1,"px")},children:[Object(d.jsx)("div",{className:"sus",children:Object(d.jsx)("span",{children:c.sustain})}),Object(d.jsxs)("div",{className:"adjust",children:[Object(d.jsx)("span",{className:he(c.headAdjust),children:Z(c.headAdjust)}),Object(d.jsx)("span",{className:he(c.tailAdjust),children:Z(c.tailAdjust)})]})]},a.length)),o&&i.current.scrollTo({left:16*e-Ee,behavior:"smooth"}),e+=4*l}}));for(var c=0;c<e;c++){var l="",r=1+c/16;if(c%16==0)l="mem-bar";else switch(c%4){case 0:l="mem4";break;case 2:l="mem8";break;default:l="mem16"}s.push(Object(d.jsx)("div",{className:l,style:{left:"".concat(Ee+16*c,"px")},children:c%16==0?Object(d.jsx)("div",{className:"bar",style:{left:"".concat(-14,"px"),top:"24px"},children:r}):Object(d.jsx)(d.Fragment,{})},s.length))}b(a),h(s),m(e)}),[s,n,p,v,S]),null==N)return Object(d.jsx)(d.Fragment,{});var L=200+16*T;return Object(d.jsx)("div",{id:"footer-timing",className:"footer-child",children:Object(d.jsxs)("div",{className:"scroll",ref:i,children:[Object(d.jsx)("div",{className:"blocks",style:{width:"".concat(L,"px")},children:u}),Object(d.jsx)("div",{className:"measure",style:{width:"".concat(L,"px")},children:E})]})})},xe=(a(51),function(){return Object(d.jsx)("div",{id:"score-footer",children:Object(d.jsx)(j,{groupName:"score-tabs",tabElements:[{name:"Progress",disable:!1,cont:Object(d.jsx)(fe,{})},{name:"Target",disable:!0,cont:Object(d.jsx)("div",{})}],activeNo:0})})}),Te=(a(52),function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch,n=e.dispatcher,s=Object(c.useState)(55),i=Object(o.a)(s,2),l=i[0],r=i[1],u=Object(c.useState)("4/4"),b=Object(o.a)(u,2),j=b[0],O=b[1],E=Object(c.useState)(0),h=Object(o.a)(E,2),f=h[0],x=h[1],v=Object(c.useState)("major"),S=Object(o.a)(v,2),L=S[0],A=S[1],C=Object(c.useRef)({});Object(c.useEffect)((function(){a(M.GET_REFFER_CHORD_PALETTE,{reffer:C.current})}),[]);var g=d.Fragment;g=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:function(){a(M.FLOATWND_STATE,{state:I.NONE})},children:Object(d.jsx)("span",{children:"Cancel"})}),Object(d.jsx)("div",{onClick:function(){n.init.setInitParam(l,j,f,L)},children:Object(d.jsx)("span",{children:"Enter"})})]});var y,k=function(e,t,a,n){var s=[];return n.forEach((function(e){s.push(Object(d.jsx)("option",{value:e.value,children:e.display},s.length))})),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("div",{className:"label",children:Object(d.jsx)("span",{children:e})}),Object(d.jsx)("div",{className:"value",children:Object(d.jsx)("select",{value:t,onChange:function(e){a(e.target.value)},children:s})})]})},D=t.noteData.chordMode==_.DIRECT;return Object(d.jsxs)("div",{id:"init-editor",className:"floatwnd"+(t.noteState.floatwndState==I.INIT_PALETTE?" active":""),onClick:function(){},children:[Object(d.jsxs)("div",{className:"items",children:[(y="Tempo",Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("div",{className:"label",children:Object(d.jsx)("span",{children:y})}),Object(d.jsxs)("div",{className:"value",children:[Object(d.jsx)("span",{children:l}),Object(d.jsx)("input",{onChange:function(e){r(Number(e.target.value))},type:"range",name:"speed",min:"30",max:"180",value:l})]})]})),k("Beat",j,(function(e){O(e)}),p.map((function(e){return{value:e,display:e}}))),D?Object(d.jsx)(d.Fragment,{}):k("Key",String(f),(function(e){x(Number(e))}),L==N[0]?T.map((function(e,t){return{value:t.toString(),display:e}})):m.map((function(e,t){return{value:t.toString(),display:e}}))),D?Object(d.jsx)(d.Fragment,{}):k("Scale",L,(function(e){A(e)}),N.map((function(e){return{value:e,display:e}})))]}),Object(d.jsx)("div",{className:"operation",children:g})]})}),me=(Oe.a.span(q||(q=Object(je.a)(["\n  user-select: none;\n  cursor: pointer;\n  display: inline-block;\n  margin: 1em;\n  padding: 0.3em 0.5em;\n  border-radius: 0.2em;\n  border: solid 1px #3498db;\n  color: #fff;\n  background-color: #3498db;\n"]))),a(53),function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch,n=e.dispatcher,s=Object(c.useRef)({});Object(c.useEffect)((function(){a(M.GET_REFFER_SECTION_PALETTE,{reffer:s.current})}),[]);var i=Object(c.useState)("Section"),l=Object(o.a)(i,2),r=l[0],u=l[1],b=d.Fragment;b=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{onClick:function(){a(M.FLOATWND_STATE,{state:I.NONE})},children:Object(d.jsx)("span",{children:"Cancel"})}),Object(d.jsx)("div",{onClick:function(){n.section.setSectionParam(r)},children:Object(d.jsx)("span",{children:"Enter"})})]});var j,O,E;return Object(d.jsxs)("div",{id:"section-editor",className:"floatwnd"+(t.noteState.floatwndState==I.SECTION_PALETTE?" active":""),onClick:function(){},children:[Object(d.jsx)("div",{className:"items",children:(j="Name",O=r,E=function(e){u(e)},Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("div",{className:"label",children:Object(d.jsx)("span",{children:j})}),Object(d.jsx)("div",{className:"value",children:Object(d.jsx)("input",{type:"text",value:O,onChange:function(e){E(e.target.value)}})})]}))}),Object(d.jsx)("div",{className:"operation",children:b})]})}),Ne=(a(54),function(){var e=Object(c.useContext)(Fe),t=e.state,a=(e.dispatch,e.dispatcher);if(t.noteState.floatwndState!=I.SETTING_EDITOR)return Object(d.jsx)(d.Fragment,{});for(var n=t.noteState.defaultSustain,s=[],i=function(e){s.push(Object(d.jsx)("div",{className:[e+1<=n?"active":""].join(" "),onClick:function(){a.score.setNoteState(Object(O.a)(Object(O.a)({},t.noteState),{},{defaultSustain:e+1}))}},s.length))},l=0;l<8;l++)i(l);return Object(d.jsx)("div",{id:"setting-editor",className:"floatwnd active",children:Object(d.jsx)("div",{className:"sustain",children:s})})}),pe=function(){var e=Object(c.useContext)(Fe),t=e.state,a=(e.dispatch,t.noteState.editMode);return Object(d.jsxs)("div",{className:"mode",children:[Object(d.jsx)("div",{className:"label",children:Object(d.jsx)("span",{children:"MODE:"})}),Object(d.jsxs)("div",{className:"border",children:[Object(d.jsx)("button",{className:a==k.NORMAL?"active":"",children:Object(d.jsx)("span",{children:"NORMAL"})}),Object(d.jsx)("button",{className:a==k.BACKING?"active":"",children:Object(d.jsx)("span",{children:"CLONE"})}),Object(d.jsx)("button",{className:a==k.PREVIEW?"active":"",children:Object(d.jsx)("span",{children:"PREVIEW"})})]})]})},ve=function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch,n=e.dispatcher,s=Object(c.useState)([]),i=Object(o.a)(s,2),l=i[0],r=i[1],u=Object(c.useState)([]),b=Object(o.a)(u,2),j=b[0],E=b[1];Object(c.useEffect)((function(){var e=t.noteData.dataList,a=0,s=[],c=[],i=t.noteState.cacheList,l={},o=1,u=0,b=0,j=-1;e.forEach((function(e,t){if(e.type==R.Init){var n=e.detail;l.init=Object(O.a)({},n)}var r=Math.floor(u/4)+1,E={};if(E.no=o,E.barCount=j!=r?r:-1,E.remaindBeat=u%4>0?u%4:-1,E.headMSec=b,s.push(Object(d.jsx)(W,{index:t,noteElement:e},t)),e.type==R.Chord){j=r;var h=e.detail,f=l.init.tempo,x=h.sustain+h.headAdjust+h.tailAdjust;u+=x,b+=6e4/f*4/4*x,o++}i[t]=Object(O.a)(Object(O.a)({},i[t]),{},{init:Object(O.a)({},l.init),progress:E}),e.type==R.Section&&(c.push(Object(d.jsx)(J,{index:a,label:e.detail.labelName},t)),a++)})),r(s),E(c),n.score.setNoteState(Object(O.a)(Object(O.a)({},t.noteState),{},{cacheList:i}))}),[t.noteData.dataList]);var h=t.noteState.editMode,f=!(t.noteState.floatwndState==I.NONE||t.noteState.floatwndState==I.CONTEXT_MENU);return Object(d.jsxs)("div",{id:"scorecont-notetab-root",children:[Object(d.jsxs)("div",{className:"left-cont",children:[Object(d.jsxs)("div",{id:"score-note",children:[Object(d.jsxs)("div",{id:"operation-header",className:h==k.BACKING?"mode-selector":"",children:[Object(d.jsx)("button",{className:"disable",children:Object(d.jsx)("span",{children:"BACK"})}),Object(d.jsx)("button",{className:"disable",children:Object(d.jsx)("span",{children:"SAVE"})}),Object(d.jsx)("button",{className:"disable",children:Object(d.jsx)("span",{children:"RELOAD"})}),Object(d.jsx)("button",{className:"",onClick:function(){return a(M.FLOATWND_STATE,{state:I.SETTING_EDITOR})},children:Object(d.jsx)("span",{children:"SETTING"})}),Object(d.jsx)(pe,{})]}),Object(d.jsx)("div",{id:"section-list",className:h==k.BACKING?"mode-selector":"",children:j}),Object(d.jsx)("div",{id:"score-list-root",className:h==k.BACKING?"mode-selector":"",children:l}),Object(d.jsx)("div",{id:"modal-blind",className:f?"active":"",onClick:function(){a(M.FLOATWND_STATE,{state:I.NONE})}}),Object(d.jsx)(Te,{}),Object(d.jsx)(X,{}),Object(d.jsx)(me,{}),Object(d.jsx)($,{}),Object(d.jsx)(be,{}),Object(d.jsx)(Ne,{})]}),Object(d.jsx)(xe,{})]}),Object(d.jsx)("div",{className:"right-cont",children:Object(d.jsx)(Q,{})})]})},Se=(a(55),function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch,n=e.dispatcher;return Object(d.jsxs)("div",{id:"scorecont-listtab-root",children:[Object(d.jsxs)("div",{className:"left-cont",children:[Object(d.jsx)("button",{onClick:function(){n.setNoteData(Object(O.a)(Object(O.a)({},t.noteData),{},{chordMode:_.SCALE})),a(M.INIT_DEFAULT_ELEMENTS,null),a(M.SELECT_NOTE_ELEMENT,{index:2}),a(M.SELECT_SCORETAB,{index:1})},children:Object(d.jsx)("span",{children:"SCALE"})}),Object(d.jsx)("button",{onClick:function(){n.setNoteData(Object(O.a)(Object(O.a)({},t.noteData),{},{chordMode:_.DIRECT})),a(M.INIT_DEFAULT_ELEMENTS,null),a(M.SELECT_NOTE_ELEMENT,{index:2}),a(M.SELECT_SCORETAB,{index:1})},children:Object(d.jsx)("span",{children:"DIRECT"})})]}),Object(d.jsx)("div",{className:"right-cont"})]})}),Le=(a(56),function(){var e=Object(c.useContext)(Fe);e.state,e.dispatch,e.dispatcher;return Object(d.jsx)(d.Fragment,{})}),Ae=(a(57),function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch,n=e.dispatcher,s=Object(c.useRef)({});return Object(c.useEffect)((function(){2==t.scoreTabIndex&&0!=t.noteData.dataList.length&&(s.current.value=JSON.stringify(t.noteData))}),[t.scoreTabIndex]),Object(d.jsxs)("div",{id:"scorecont-sourcetab-root",children:[Object(d.jsx)("textarea",{ref:s}),Object(d.jsx)("button",{onClick:function(){n.score.setNoteData(JSON.parse(s.current.value)),a(M.SELECT_NOTE_ELEMENT,{index:2}),a(M.SELECT_SCORETAB,{index:1})},children:"Load score data..."})]})}),Ie=function(){var e=Object(c.useContext)(Fe),t=e.state,a=e.dispatch;return Object(d.jsx)("div",{id:"scoretab-root",children:Object(d.jsx)(j,{groupName:"score-tabs",tabElements:[{name:"Library",disable:!1,cont:Object(d.jsx)(Se,{})},{name:"Note",disable:0==t.noteData.dataList.length,cont:1!=t.scoreTabIndex?Object(d.jsx)(d.Fragment,{}):Object(d.jsx)(ve,{})},{name:"Source",disable:!1,cont:Object(d.jsx)(Ae,{})},{name:"Backing",disable:!0,cont:Object(d.jsx)(Le,{})},{name:"Sheet Music",disable:!0,cont:Object(d.jsx)("div",{})},{name:"Preview",disable:!0,cont:Object(d.jsx)("div",{})}],activeNo:t.scoreTabIndex,selectTabIndex:function(e){return a(M.SELECT_SCORETAB,{index:e})}})})},Ce=a(6),ge=a(1),ye=function e(t,a){var n=this;Object(ge.a)(this,e),this.dispatchBase=void 0,this.dispatch=void 0,this.state=void 0,this.setLoginParams=function(e){n.dispatch(M.SET_LOGIN,{login:e})},this.setNoteData=function(e){n.dispatchBase({type:M.SET_NOTE_DATA,payload:{data:e}})},this.initBackingPalette=function(e){n.dispatchBase({type:M.INIT_BACKING_PALETTE,payload:{backingPaletteState:e}})},this.setUseChannels=function(e){n.dispatchBase({type:M.SET_USE_CHANNELS,payload:{useChannels:e}})},this.score={apllyFlasah:function(e){var t=n.state.noteState.cacheList[e].reffer;t.style.backgroundColor="#ff0",setTimeout((function(){t.style.backgroundColor=""}),350)},apllyFlashCur:function(){var e=n.state.noteState.focusIndex;n.score.apllyFlasah(e)},apllyFlashList:function(){n.state.noteState.selectedList.forEach((function(e){n.score.apllyFlasah(e)}))},setNoteState:function(e){n.dispatch(M.SET_NOTE_STATE,{noteState:e})},setCriteria:function(){var e=n.state.noteState.focusIndex;n.score.setNoteState(Object(O.a)(Object(O.a)({},n.state.noteState),{},{criteriaIndex:e,editMode:k.BACKING}))},releaseCriteria:function(){n.score.setNoteState(Object(O.a)(Object(O.a)({},n.state.noteState),{},{criteriaIndex:-1,editMode:k.NORMAL,selectedList:[]}))},setNoteData:function(e){n.dispatch(M.SET_NOTE_DATA,{data:e})},getInitElement:function(){return n.state.noteData.dataList[0].detail},setEditMode:function(e){n.score.setNoteState(Object(O.a)(Object(O.a)({},n.state.noteState),{},{editMode:e}))},addNoteElement:function(e,t){var a=n.state.noteState.focusIndex,s=n.state.noteData.dataList.slice();s.splice(a+1,0,{type:e,detail:t}),n.dispatch(M.SET_DATA_LIST,{dataList:s}),n.state.noteState.cacheList.slice().splice(a+1,0,{}),n.score.apllyFlasah(a+1)},addSectionElement:function(){var e=n.state.noteState.focusIndex,t=n.state.noteData.dataList.slice(),a={labelName:"Section"};t.splice(e+1,0,{type:R.Section,detail:a}),n.dispatch(M.SET_DATA_LIST,{dataList:t}),n.state.noteState.cacheList.slice().splice(e+1,0,{}),n.score.apllyFlasah(e+1)},addModulationElement:function(){n.score.addNoteElement(R.Modulation,{tempo:-1})},addChordElement:function(){var e=n.state.noteState,t=e.focusIndex,a=n.state.noteData.dataList.slice();a.splice(t+1,0,{type:R.Chord,detail:{molecule:null,denominator:null,symbolKey:v.MAJOR,sustain:e.defaultSustain,headAdjust:0,tailAdjust:0,backing:{useChannels:[],layers:[{lens:[{len:y.LEN4,isDiv3:!1,isHalf:!1}],side:g.LEFT,table:[],vels:[5]},{lens:[{len:y.LEN4,isDiv3:!1,isHalf:!1}],side:g.RIGHT,table:[],vels:[5]}],isUsePedal:!1}}}),n.dispatch(M.SET_DATA_LIST,{dataList:a}),n.state.noteState.cacheList.slice().splice(t+1,0,{}),n.score.apllyFlasah(t+1)},deleteElement:function(e){var t=n.state.noteState.focusIndex,a=n.state.noteData.dataList[e];if([R.Chord,R.Section].includes(a.type)&&2!=e){var s=n.state.noteData.dataList.slice();s.splice(e,1),n.dispatch(M.SET_DATA_LIST,{dataList:s}),e<=t&&(n.state.noteState.focusIndex--,n.dispatch(M.SET_NOTE_STATE,{noteState:n.state.noteState}))}},deleteCurElement:function(){var e=n.state.noteState.focusIndex;n.score.deleteElement(e)},focusPreviousElement:function(){var e=n.state.noteState.focusIndex;return n.state.noteData.dataList[e-1].type!=R.Fixed&&(n.state.noteState.focusIndex--,n.dispatch(M.SET_NOTE_STATE,{noteState:n.state.noteState}),!0)},focusNextElement:function(){var e=n.state.noteState.focusIndex;return n.state.noteData.dataList[e+1].type!=R.Fixed&&(n.state.noteState.focusIndex++,n.dispatch(M.SET_NOTE_STATE,{noteState:n.state.noteState}),!0)},focusPreviousSection:function(){var e=n.state.noteData.dataList,t=n.state.noteState.focusIndex;do{if(e[--t].type==R.Section){n.state.noteState.focusIndex=t,n.dispatch(M.SET_NOTE_STATE,{noteState:n.state.noteState});break}}while(t>0)},focusNextSection:function(){var e=n.state.noteData.dataList,t=n.state.noteState.focusIndex;do{if(e[++t].type==R.Section||t==e.length-2){n.state.noteState.focusIndex=t,n.dispatch(M.SET_NOTE_STATE,{noteState:n.state.noteState});break}}while(t<e.length-1)},focusInitElement:function(){n.state.noteState.focusIndex=0,n.dispatch(M.SET_NOTE_STATE,{noteState:n.state.noteState})},setSelectedList:function(e){n.dispatch(M.SET_NOTE_STATE,{noteState:Object(O.a)(Object(O.a)({},n.state.noteState),{},{selectedList:e})})},callChordSelector:function(){var e=n.state.noteState.focusIndex,t=n.state.noteData.dataList[e].detail,a=t.molecule;null==a&&(a={rootIndex:0,isFlat:!1}),n.dispatch(M.FLOATWND_STATE,{state:I.CHORD_PALETTE}),n.dispatch(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},n.state.noteState.chordPaletteState),{},{molecule:a,denominator:t.denominator,symbolKey:t.symbolKey,sustain:t.sustain,headAdjust:t.headAdjust,tailAdjust:t.tailAdjust})})},callSectionEditor:function(){var e=n.state.noteState.focusIndex;n.state.noteData.dataList[e].detail;n.dispatch(M.FLOATWND_STATE,{state:I.SECTION_PALETTE})},callBackingEditor:function(){var e=n.state.noteState.focusIndex,t=n.state.noteData.dataList[e].detail.backing,a={useChannels:JSON.parse(JSON.stringify(t.useChannels)),isUsePedal:t.isUsePedal,sideIndex:0,selectedLenIndex:0,selectedChannelIndex:-1,layers:JSON.parse(JSON.stringify(t.layers)),isCorrect:!0};n.initBackingPalette(a),n.dispatch(M.FLOATWND_STATE,{state:I.BACKING_PALETTE})}},this.init={setInitParam:function(e,t,a,s){var c=n.state.noteState.focusIndex;n.dispatch(M.DETAIL_PARAMS_SETTER,{pos:c,params:{tempo:e,rythm:t,keyIndex:a,scale:s}}),n.dispatch(M.FLOATWND_STATE,{state:I.NONE}),n.score.apllyFlashCur()}},this.section={setSectionParam:function(e){var t=n.state.noteState.focusIndex;n.dispatch(M.DETAIL_PARAMS_SETTER,{pos:t,params:{labelName:e}}),n.dispatch(M.FLOATWND_STATE,{state:I.NONE}),n.score.apllyFlashCur()}},this.chord={setCurChordParam:function(){var e=n.state.noteState.focusIndex,t=n.state.noteData.dataList[e].detail,a=n.state.noteState.chordPaletteState;n.dispatch(M.DETAIL_PARAMS_SETTER,{pos:e,params:Object(O.a)(Object(O.a)({},t),{},{molecule:a.molecule,denominator:a.denominator,symbolKey:a.symbolKey,sustain:a.sustain,headAdjust:a.headAdjust,tailAdjust:a.tailAdjust})}),n.dispatch(M.FLOATWND_STATE,{state:I.NONE}),n.score.apllyFlashCur()}},this.backing={toggleMatrix:function(e,t,a){var s=n.state.noteState.backingPaletteState.sideIndex,c=!n.state.noteState.backingPaletteState.layers[s].table[e][t][a];n.dispatch(M.BACKING_TOGGLE_MATRIX,{sideIndex:s,channelIndex:e,lenIndex:t,divIndex:a,isUse:c})},addLen:function(){var e=n.state.noteState.backingPaletteState,t=e.layers,a=e.sideIndex,s=t[a],c=e.selectedLenIndex,i=s.table;s.lens=Object(Ce.a)(s.lens),s.lens.splice(c+1,0,{len:y.LEN4,isHalf:!1,isDiv3:!1}),i.forEach((function(e){e.splice(c+1,0,[!1])})),s.vels.splice(e.selectedLenIndex+1,0,5),t[a]=s,n.dispatch(M.INIT_BACKING_PALETTE,{backingPaletteState:e})},delLen:function(){var e=n.state.noteState.backingPaletteState,t=e.layers,a=e.sideIndex,s=t[a],c=e.selectedLenIndex,i=s.table;s.lens=Object(Ce.a)(s.lens),s.lens.splice(c,1),i.forEach((function(e){e.splice(c,1)})),s.vels.splice(c,1),t[a]=s,c>0&&e.selectedLenIndex--,n.dispatch(M.INIT_BACKING_PALETTE,{backingPaletteState:e})},updateLenIndex:function(e){var t=n.state.noteState.backingPaletteState;t.selectedLenIndex=e,n.initBackingPalette(t)},getCurLenIndex:function(){return n.state.noteState.backingPaletteState.selectedLenIndex},isFirstCurLen:function(){return 0==n.state.noteState.backingPaletteState.selectedLenIndex},isLastCurLen:function(){var e=n.state.noteState.backingPaletteState,t=e.layers[e.sideIndex];return e.selectedLenIndex==t.lens.length-1},getSideScript:function(){var e=n.state.noteState.backingPaletteState;return e.layers[e.sideIndex]},getCurLenBean:function(){var e=n.state.noteState.backingPaletteState;return e.layers[e.sideIndex].lens[e.selectedLenIndex]},setCurrentLenBean:function(e){var t=n.state.noteState.backingPaletteState,a=t.layers;a[t.sideIndex].lens[t.selectedLenIndex]=e,n.initBackingPalette(Object(O.a)(Object(O.a)({},t),{},{layers:a}))},setCurLen:function(e){var t=n.backing.getCurLenBean();t.len=e,t.isHalf=!1,t.isDiv3=!1,n.backing.setCurrentLenBean(t)},updateCurVolume:function(e){var t=n.state.noteState.backingPaletteState,a=t.layers;a[t.sideIndex].vels[t.selectedLenIndex]=e,n.initBackingPalette(Object(O.a)(Object(O.a)({},t),{},{layers:a}))},getCurVelocity:function(){var e=n.state.noteState.backingPaletteState;return e.layers[e.sideIndex].vels[e.selectedLenIndex]},isAcceptHalf:function(){return[y.LEN2,y.LEN4,y.LEN8].includes(n.backing.getCurLenBean().len)},isAcceptDiv3:function(){return[y.LEN4,y.LEN8].includes(n.backing.getCurLenBean().len)},setLayerIndex:function(e){var t=n.state.noteState.backingPaletteState;t.sideIndex=e,t.selectedLenIndex=0,n.initBackingPalette(t)},setUsePedal:function(e){var t=n.state.noteState.backingPaletteState;t.isUsePedal=e,n.initBackingPalette(t)},setCorrect:function(e){var t=n.state.noteState.backingPaletteState;t.isCorrect=e,n.initBackingPalette(t)},changeLayerIndex:function(){var e=n.state.noteState.backingPaletteState;e.sideIndex=0==e.sideIndex?1:0,e.selectedLenIndex=0,n.initBackingPalette(e)},setUseChannels:function(e){for(var t=n.state.noteState.backingPaletteState,a=t.layers,s=new Array(2),c=0;c<2;c++){for(var i=t.useChannels.length,l=a[c].lens.length,r=a[c].table,o=new Array(i),d=0;d<i;d++)if(d<r.length)o[d]=r[d];else{o[d]=new Array(l);for(var u=0;u<l;u++)o[d][u]=new Array(1),o[d][u][0]=!1}s[c]=Object(O.a)(Object(O.a)({},a[c]),{},{table:o})}},setCurBackingScript:function(){var e=n.state.noteState.focusIndex,t=n.state.noteData.dataList[e].detail,a=n.state.noteState.backingPaletteState,s={};s.useChannels=a.useChannels,s.layers=a.layers,s.isUsePedal=a.isUsePedal,n.dispatch(M.DETAIL_PARAMS_SETTER,{pos:e,params:Object(O.a)(Object(O.a)({},t),{},{backing:s})}),n.dispatch(M.FLOATWND_STATE,{state:I.NONE}),n.score.apllyFlashCur()},getNotesCount:function(e){var t=0;return e.layers.forEach((function(e){e.table.forEach((function(e){e.forEach((function(e){e[0]&&t++}))}))})),t},play:function(e){for(var t=n.state.noteState.backingThreads,a=Array(88),s=0;s<88;s++)a[s]=0;!function e(s){var c=n.state.noteState.focusIndex,i=n.state.noteData.dataList[c].detail,l=n.state.noteState.cacheList[c],r=Y(i.symbolKey),o=null===r||void 0===r?void 0:r.intervals,d=n.state.noteState.backingPaletteState,u=s?i.backing:{layers:d.layers,useChannels:d.useChannels,isUsePedal:d.isUsePedal},b=n.state.sampler,j=l.init.tempo,E=6e4/j*4,h=6e4/j*(i.sustain+i.headAdjust+i.tailAdjust),f=E/32;t.push(setTimeout((function(){var t=!0;s&&(n.score.focusNextElement()&&(t=!1,e(!0)));t&&n.score.setNoteState(Object(O.a)(Object(O.a)({},n.state.noteState),{},{editMode:k.NORMAL}))}),h));for(var T=function(e){var n=0,s=u.layers[e];s.lens.forEach((function(e,c){var r=Number(e.len.toString().replace("LEN","")),d=E/r;e.isHalf&&(d*=1.5),u.useChannels.forEach((function(e,r){s.table[r][c].forEach((function(r,j){if(r&&null!=i.molecule){var O=i.molecule.rootIndex,E=(l.init.keyIndex+O)%12+o[e.structIndex]+12*e.octave,T=Math.floor(E/12),m=x[E%12]+T,N=.7*s.vels[c]/10,p=n+d/3*j,v=u.isUsePedal?h+f:p+d;t.push(setTimeout((function(){b.triggerAttack(m,"+0",N),a[E]++}),p)),t.push(setTimeout((function(){a[E]--,0==a[E]&&b.triggerRelease(m)}),v))}}))})),n+=d}))},m=0;m<2;m++)T(m);n.score.setNoteState(Object(O.a)(Object(O.a)({},n.state.noteState),{},{editMode:k.PREVIEW,backingThreads:t}))}(e)}},this.dispatchBase=a,this.state=t,this.dispatch=function(e,t){return a({type:e,payload:t})}},_e=(a(58),function(e){var t=e.loginType==e.curLoginType;return Object(d.jsx)("button",{className:t?"active":"",onClick:function(){t||(e.setLoginType(e.curLoginType),e.resetError())},children:e.name})}),ke=function(e){Object(c.useEffect)((function(){e.isDisable&&e.stateSetter("")}),[e.isDisable]);var t=e.stateValue.length;return Object(d.jsxs)("div",{className:["form",e.isDisable?"disable":""].join(" "),children:[Object(d.jsxs)("span",{children:[e.label,":"]}),Object(d.jsx)("input",{className:[e.isDisable||0!=t?"":"required",!e.isDisable&&(t<5||t>15)?"range":"",e.isDisable||De(e.stateValue)?"":"ban"].join(" "),type:e.isMask?"password":"text",value:e.stateValue,onChange:function(t){return e.stateSetter(t.target.value)}})]})},De=function(e){return!!(e=null==e?"":e).match(/^[A-Za-z0-9_!]*$/)},Re=function(){var e=Object(c.useRef)({}),t=Object(c.useState)("guest"),a=Object(o.a)(t,2),n=a[0],s=a[1],i=Object(c.useContext)(Fe),l=i.state,r=i.dispatcher,u=Object(c.useState)(""),b=Object(o.a)(u,2),j=b[0],E=b[1],h=Object(c.useState)(""),f=Object(o.a)(h,2),x=f[0],T=f[1],m=Object(c.useState)(""),N=Object(o.a)(m,2),p=N[0],v=N[1],S=Object(c.useState)(""),L=Object(o.a)(S,2),A=L[0],I=L[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{id:"logo",children:Object(d.jsx)("span",{children:"Virtual Harmonizer"})}),Object(d.jsxs)("div",{id:"login-frame",ref:e,children:[Object(d.jsx)("div",{className:"guide",children:Object(d.jsx)("span",{children:"Start to Virtual Harmonizer"})}),Object(d.jsxs)("div",{className:"type",children:[Object(d.jsx)(_e,{curLoginType:"guest",name:"guest",loginType:n,setLoginType:s,resetError:function(){return I("")}}),Object(d.jsx)(_e,{curLoginType:"login",name:"login",loginType:n,setLoginType:s,resetError:function(){return I("")}}),Object(d.jsx)(_e,{curLoginType:"create",name:"create account",loginType:n,setLoginType:s,resetError:function(){return I("")}})]}),Object(d.jsxs)("div",{className:"body",children:[Object(d.jsx)(ke,{label:"user name",stateValue:j,stateSetter:E,isMask:!1,isDisable:!["login","create"].includes(n)}),Object(d.jsx)(ke,{label:"password",stateValue:x,stateSetter:T,isMask:!0,isDisable:!["login","create"].includes(n)}),Object(d.jsx)(ke,{label:"password confirm",stateValue:p,stateSetter:v,isMask:!0,isDisable:!["create"].includes(n)})]}),Object(d.jsx)("div",{className:"error",children:Object(d.jsx)("span",{children:A})}),Object(d.jsx)("div",{className:["opr",function(){switch(n){case"guest":return!1;case"login":return""==j||j.length<5||j.length>15||!De(j)||""==x||x.length<5||x.length>15||!De(x);case"create":return j.length<5||j.length>15||!De(j)||x.length<5||x.length>15||!De(x)||p.length<5||p.length>15||!De(p)}}()?"disable":""].join(" "),children:Object(d.jsx)("button",{onClick:function(){switch(n){case"guest":e.current.style.opacity="0",setTimeout((function(){r.setLoginParams(Object(O.a)(Object(O.a)({},l.login),{},{isLogin:!0,user:"Guest"}))}),300);break;case"login":I("The login attempt failed. Either the user ID or password is invalid.");break;case"create":I("That user id has already been recorded.")}},children:"enter"})})]})]})},Pe=(a(59),function(e){var t=Object(c.useContext)(Fe),a=t.state,n=t.dispatcher;return Object(d.jsxs)("div",{id:"user-plate",className:[""].join(" "),children:[Object(d.jsx)("div",{className:"user-name",children:Object(d.jsx)("span",{children:a.login.user})}),Object(d.jsx)("div",{className:"logout",onClick:function(){n.setLoginParams(Object(O.a)(Object(O.a)({},a.login),{},{isLogin:!1,user:""}))},children:Object(d.jsx)("span",{children:"LOGOUT"})})]})}),Fe=Object(c.createContext)({}),Me=function(){var e=Object(c.useReducer)(B,w),t=Object(o.a)(e,2),a=t[0],n=t[1],s=function(e,t){return n({type:e,payload:t})},i=new ye(a,n);return Object(d.jsx)("div",{id:"main-frame",tabIndex:999,onKeyDown:function(e){return function(e,t,a,n){if(1==t.scoreTabIndex){var s=t.noteState.focusIndex,c=t.noteState.editMode,i=t.noteData.chordMode,l=t.noteData.dataList[s];switch(l.type){case R.Section:switch(l.detail,t.noteState.floatwndState){case I.NONE:if(c==k.NORMAL)switch(e.key){case"c":n.score.callSectionEditor()}break;case I.SECTION_PALETTE:switch(e.key){case"Escape":case"c":a(M.FLOATWND_STATE,{state:I.NONE})}}break;case R.Chord:var r=l.detail;switch(t.noteState.floatwndState){case I.NONE:if(c==k.NORMAL)switch(e.key){case"c":n.score.callChordSelector();break;case"b":null!=r.molecule&&n.score.callBackingEditor();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":if(i==_.DIRECT)break;var o=P[Number(e.key)-1];a(M.SET_DEGREE_INDEX,{pos:s,degreeIndex:o.degreeIndex}),a(M.SET_SYMBOL_KEY,{pos:s,symbolKey:o.symbolKey}),n.score.apllyFlashCur();break;case"x":n.score.setCriteria();break;case"z":fetch("http://localhost:5000/post",{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sql:"SELECT rowid AS id, info FROM lorem"})}).then((function(e){return e.json()})).then((function(e){alert(JSON.stringify(e))})).catch((function(e){console.log(e+"\u5931\u6557\u3057\u307e\u3057\u305f")}));break;case"q":fetch("http://localhost:5000/update",{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({database:"system.db",sql:"insert into user_tbl(name, password) values('kohno', 'p@ssw0rd00!')"})});break;case" ":n.backing.play(!0)}else if(c==k.BACKING)switch(e.key){case"Escape":case"x":n.score.releaseCriteria();break;case"Enter":var d=t.noteData.dataList,u=d[t.noteState.criteriaIndex].detail.backing;t.noteState.selectedList.forEach((function(e){d[e].detail.backing=JSON.parse(JSON.stringify(u))})),n.score.setNoteData(Object(O.a)(Object(O.a)({},t.noteData),{},{dataList:d})),n.score.releaseCriteria(),n.score.apllyFlashList()}break;case I.CHORD_PALETTE:switch(e.key){case"Escape":case"c":a(M.FLOATWND_STATE,{state:I.NONE});break;case"Enter":n.chord.setCurChordParam()}break;case I.BACKING_PALETTE:var b=t.noteState.backingPaletteState,j=b.isCorrect;switch(e.key){case"Escape":case"b":a(M.FLOATWND_STATE,{state:I.NONE});break;case"ArrowLeft":if(!n.backing.isFirstCurLen()){var E=n.backing.getCurLenIndex();n.backing.updateLenIndex(E-1)}break;case"ArrowRight":if(!n.backing.isLastCurLen()){var h=n.backing.getCurLenIndex();n.backing.updateLenIndex(h+1)}break;case"ArrowUp":var f=n.backing.getCurVelocity();f<10&&n.backing.updateCurVolume(f+1);break;case"ArrowDown":var x=n.backing.getCurVelocity();x>1&&n.backing.updateCurVolume(x-1);break;case"r":n.backing.changeLayerIndex();break;case"1":n.backing.setCurLen(y.LEN16);break;case"2":n.backing.setCurLen(y.LEN8);break;case"3":n.backing.setCurLen(y.LEN4);break;case"4":n.backing.setCurLen(y.LEN2);break;case"5":n.backing.setCurLen(y.LEN1);break;case".":if(n.backing.isAcceptHalf()){var T=n.backing.getCurLenBean();T.isHalf=!T.isHalf,T.isDiv3=!1,n.backing.setCurrentLenBean(T)}break;case"/":if(n.backing.isAcceptDiv3()){var m=n.backing.getCurLenBean();m.isDiv3=!m.isDiv3,m.isHalf=!1,n.backing.setCurrentLenBean(m)}break;case"a":n.backing.addLen();break;case"Delete":n.backing.getSideScript().lens.length>1&&n.backing.delLen();break;case" ":j&&n.backing.play(!1);break;case"Enter":j&&n.backing.setCurBackingScript();break;case"z":var N={isUsePedal:b.isUsePedal,layers:b.layers,useChannels:b.useChannels};alert(JSON.stringify(N))}}}if(t.noteState.floatwndState==I.NONE&&[R.Chord,R.Section,R.Modulation].includes(l.type))if(c==k.NORMAL)switch(e.key){case"ArrowLeft":n.score.focusPreviousElement();break;case"ArrowRight":n.score.focusNextElement();break;case"ArrowUp":n.score.focusPreviousSection();break;case"ArrowDown":n.score.focusNextSection();break;case"Delete":n.score.deleteCurElement();break;case"i":n.score.focusInitElement();break;case"a":n.score.addChordElement();break;case"s":n.score.addSectionElement();break;case"f":n.score.addModulationElement();break;case"w":var p=l.detail;a(M.FLOATWND_STATE,{state:I.CHORD_PALETTE}),a(M.CHORD_PALETTE_SETTER,{params:Object(O.a)(Object(O.a)({},t.noteState.chordPaletteState),{},{molecule:p.molecule,denominator:p.denominator,symbolKey:p.symbolKey,sustain:p.sustain})});break;case"z":alert(JSON.stringify(t.noteState.cacheList.length))}else if(c==k.PREVIEW)switch(e.key){case" ":t.noteState.backingThreads.forEach((function(e){clearInterval(e)})),n.score.setNoteState(Object(O.a)(Object(O.a)({},t.noteState),{},{backingThreads:[],editMode:k.NORMAL})),t.sampler.releaseAll()}}}(e,a,s,i)},children:Object(d.jsx)(Fe.Provider,{value:{state:a,dispatch:s,dispatcher:i},children:a.login.isLogin?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Pe,{}),Object(d.jsx)(j,{groupName:"system-tabs",tabElements:[{name:"Account",disable:!0,cont:Object(d.jsx)("div",{})},{name:"Palette",disable:!0,cont:Object(d.jsx)("div",{})},{name:"Score",disable:!1,cont:Object(d.jsx)(Ie,{})},{name:"Backing",disable:!0,cont:Object(d.jsx)("div",{})},{name:"Symbol",disable:!0,cont:Object(d.jsx)("div",{})},{name:"Sampler",disable:!0,cont:Object(d.jsx)("div",{})},{name:"Setting",disable:!0,cont:Object(d.jsx)("div",{})}],activeNo:2})]}):Object(d.jsx)(Re,{})})})};var we=function(){return Object(c.useEffect)((function(){document.oncontextmenu=function(){return!1},window.addEventListener("keydown",(function(e){[32,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault()}),!1)}),[]),Object(d.jsx)(Me,{})},Be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,61)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};r.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(we,{})}),document.getElementById("root")),Be()}]),[[60,1,2]]]);
//# sourceMappingURL=main.7fd7b839.chunk.js.map